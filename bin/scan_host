#!/bin/sh
# Scan 255.255.255.0 subnet for active IPs

ip_range=`print_ip |sed 's#\(\.\)[0-9][0-9]*$#\10/24#'` # like 192.168.7.0/24

nmap -n -sn $ip_range |             \
    sed -e '/^$/d'                  \
    -e '/^Starting/d'               \
    -e '/^Host/d'                   \
    -e '/^Nmap done/d'              \
    -e '/MAC Address/d'             \
    | awk '{print $5;}' | sort -V
